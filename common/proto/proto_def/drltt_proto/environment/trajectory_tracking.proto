syntax = "proto3";

import "drltt_proto/dynamics_model/state.proto";
import "drltt_proto/dynamics_model/action.proto";
import "drltt_proto/dynamics_model/hyper_parameter.proto";
import "drltt_proto/trajectory/trajectory.proto";

package drl_based_trajectory_tracking;

message DynamicsModelData {
    optional State state = 1;
    optional Action action = 2;
    optional HyperParameter hyper_parameter = 3;
}

message TrajectoryTrackingFrame {
    optional int32 step_index = 1;
    optional DynamicsModelData dynamics_model = 2;
    optional ReferenceLine reference_line = 3;
    optional float reward = 4;
}

message TrajectoryTrackingHyperParameter {
    optional float step_interval = 1;
    repeated float init_state_lb = 2;
    repeated float init_state_ub = 3;
    optional int32 n_observation_steps = 4;
    // TODO: set it in `TrajectoryTrackingEnv` class
    repeated HyperParameter dynamics_model_hyper_parameter = 5;
    optional int32 tracking_length_lb = 6;
    optional int32 tracking_length_ub = 7;
}

message TrajectoryTrackingRuntimeData {
    optional int32 step_index = 1;
    optional int32 tracking_length = 2;
}

message TrajectoryTrackingEnvironment {
    optional TrajectoryTrackingHyperParameter hyper_parameter = 1;
    optional TrajectoryTrackingRuntimeData runtime_data = 2;
    // repeated TrajectoryTrackingFrame frames = 3;
    // index of current step
}
